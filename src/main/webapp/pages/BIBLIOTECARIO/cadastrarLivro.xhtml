<ui:composition template="/WEB-INF/templates/templateBase.xhtml"
				xmlns="http://www.w3.org/1999/xhtml"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:p="http://primefaces.org/ui"
				xmlns:h5="http://xmlns.jcp.org/jsf/passthrough">
				
	<ui:define name="MenuVertical">
		<ui:include src ="/WEB-INF/templates/menuBibliotecario.xhtml"/>
	</ui:define>
	<ui:define name="Conteudo">
		<div class="TituloConteudoDiv">
			<span class="TituloConteudoText">Cadastrar Livro</span>
		</div>
		<div class="conteudoFormDiv">
			<h:form enctype="multipart/form-data">
			<div class="formConteudoRow" align="center">
			<div class="formConteudoElement-left">
				<h:outputLabel styleClass="conteudoFormLabel" value="Título: " title="Título do livro">
					<h:inputText id="titulo2"
								 styleClass="conteudoFormInText-big"
								 value="#{cadastrarLivroMB.titulo}"
								 required="true"
								 requiredMessage="O título do livro é obrigatorio."
								 validatorMessage="O título do livro deve ter no minimo 5 letras e não pode começar com número."
								 maxlength="255" >
						<f:validateRegex pattern="(^\D{1}[\w|\s]{4,255})" />
					</h:inputText><br/>
					<span class="conteudoValidationMessage">
						<h:message for="titulo2"/>
					</span>
				</h:outputLabel>
			</div>
			<div class="formConteudoElement-left">
				<h:outputLabel styleClass="conteudoFormLabel" value="Edição: " title="Edição do livro">
					<h:inputText id="edicao2"
								 styleClass="conteudoFormInText-medium"
								 value="#{cadastrarLivroMB.edicao}"
								 required="true"
								 requiredMessage="A edição do livro é obrigatoria."
								 maxlength="10" /><br/>
					<span class="conteudoValidationMessage">
						<h:message for="edicao2"/>
					</span>
				</h:outputLabel>
			</div>
		</div>
				<table style="width:100%;padding:5%;">
					<tr>
						<td align="right">
							<h:outputLabel styleClass="conteudoFormLabel" value="Título: " title="Título do livro">
								<h:inputText id="titulo"
											 styleClass="conteudoFormInText-big"
											 value="#{cadastrarLivroMB.titulo}"
											 required="true"
											 requiredMessage="O título do livro é obrigatorio."
											 validatorMessage="O título do livro deve ter no minimo 5 letras e não pode começar com número."
											 maxlength="255" >
									<f:validateRegex pattern="(^\D{1}[\w|\s]{4,255})" />
								</h:inputText><br/>
								<span class="conteudoValidationMessage">
									<h:message for="titulo"/>
								</span>
							</h:outputLabel>
						</td>
						<td align="right">
							<h:outputLabel styleClass="conteudoFormLabel" value="Edição: " title="Edição do livro">
								<h:inputText id="edicao"
											 styleClass="conteudoFormInText-medium"
											 value="#{cadastrarLivroMB.edicao}"
											 required="true"
											 requiredMessage="A edição do livro é obrigatoria."
											 maxlength="10" /><br/>
								<span class="conteudoValidationMessage">
									<h:message for="edicao"/>
								</span>
							</h:outputLabel>
						</td>
					</tr>
					<tr></tr>
					<tr></tr>
					<tr>
						<td align="right">
							<h:outputLabel styleClass="conteudoFormLabel" value="Editora: " title="Editora do livro">
								<h:inputText id="editora"
											 styleClass="conteudoFormInText-big"
											 value="#{cadastrarLivroMB.editora}" required="true"
											 requiredMessage="A editora do livro é obrigatoria."
											 validatorMessage="A editora do livro deve ter no minimo 5 letras e não pode começar com número."
											 maxlength="255">
									<f:validateRegex pattern="(^\D{1}[\w|\s]{4,255})" />
								</h:inputText><br/>
								<span class="conteudoValidationMessage">
									<h:message for="editora"/>
								</span>
							</h:outputLabel>
						</td>
						<td align="right">
							<h:outputLabel styleClass="conteudoFormLabel" value="Num. Páginas: " title="Numero de páginas do livro">
								<h:inputText id="paginas"
											 styleClass="conteudoFormInText-small"
											 value="#{cadastrarLivroMB.numPaginas}"
											 required="true"
											 requiredMessage="O numero de páginas do livro é obrigatório."
											 validatorMessage="O número de paginas do livro deve ser um número maior do que 0, limitado a 5 digitos."
											 maxlength="5" >
									<f:validateRegex pattern="[1-99999]" />
								</h:inputText><br/>
								<span class="conteudoValidationMessage">
									<h:message for="paginas"/>
								</span>
							</h:outputLabel>
						</td>
					</tr>
					<tr></tr>
					<tr></tr>
					<tr>
						<td align="right">
							<h:outputLabel styleClass="conteudoFormLabel" value="Autores: " title="Nome dos Autores do livro, separados por virgula">
								<h:inputText id="autores"
											 styleClass="conteudoFormInText-big"
											 value="#{cadastrarLivroMB.autores}"
											 required="true"
											 requiredMessage="Pelo menos um autor deve ser definido."
											 validatorMessage="O(s) nome(s) do(s) autor(res) deve ter no minimo 5 letras e não pode começar com número."
											 maxlength="255" >
									<f:validateRegex pattern="(^\D{1}[\w|\s]{4,255})" />
								</h:inputText><br/>
							</h:outputLabel>
							<span class="conteudoValidationMessage">
								<h:message for="autores"/>
							</span>
						</td>
						<td align="right">
							<h:outputLabel styleClass="conteudoFormLabel" value="Quantidade: " title="Quantidade de livros sendo cadastrada">
								<h:inputText id="qtd"
											 h5:type="number"
											 styleClass="conteudoFormInText-small"
											 value="#{cadastrarLivroMB.quantidade}"
											 required="true"
											 requiredMessage="A quantidade de livros é obrigatoria."
											 validatorMessage="A quantidade de livros deve ser um número maior do que 0, limitado a 3 digitos."
											 maxlength="2" >
									<f:validateRegex pattern="[1-999]" />
								</h:inputText><br/>
								<span class="conteudoValidationMessage">
									<h:message for="qtd"/>
								</span>
							</h:outputLabel>
						</td>
					</tr>
					<tr></tr>
					<tr></tr>
					<tr>
						<td align="right">
							<h:outputLabel styleClass="conteudoFormLabel" value="ISBN: ">
								<h:inputText id="isbn"
											 title="ISBN do livro"
											 styleClass="conteudoFormInText-big"
											 value="#{cadastrarLivroMB.isbn}"
											 required="true"
											 requiredMessage="O ISBN do livro é obrigatorio."
											 validatorMessage="O código ISBN deve ser um número de 10 ou 13 Digítos"
											 maxlength="13">
									<f:validateRegex pattern="(\d{10}|\d{13})"></f:validateRegex>
								</h:inputText><br/>
								<span class="conteudoValidationMessage">
									<h:message for="isbn"/>
								</span>
							</h:outputLabel>
						</td>
						<td align="right">
							<h:outputLabel styleClass="conteudoFormLabel" value="Categoria: ">
 								<h:selectOneMenu id="categoria"
 												 styleClass="conteudoFormSelectOneMenu"
 												 title="Categoria do livro"
 												 value="#{cadastrarLivroMB.quantidade}"
 												 required="true" 
 												 requiredMessage="A categoria do livro é obrigatoria." >
		 							<f:selectItem itemLabel="Selecione.." itemValue="#{null}" />
		 							<f:selectItems var="opcao" itemLabel="#{opcao.nome}" itemValue="#{opcao.idCategoria}" value="#{cadastrarLivroMB.categorias}"/>
								</h:selectOneMenu><br/>
								<span class="conteudoValidationMessage"><h:message for="categoria"/></span>
							</h:outputLabel>
						</td>
					</tr>
					<tr></tr>
					<tr></tr>
					<tr>
						<td align="right" colspan="2">
							<h:outputLabel class="conteudoFormLabel" value="Foto(Opcional): ">
								<p:fileUpload id="foto" title="Foto da capa do livro, no formato jpg" mode="simple" skinSimple="true" value="#{cadastrarLivroMB.foto}" allowTypes="\.jp(g|eg)" sizeLimit="1048576" style="width:60%;" invalidFileMessage="Apenas imagens no formato jpeg(jpg) são aceitas" invalidSizeMessage="Tamanho inválido, a imagem deve ter no máximo 1mb de tamanho, tente redimensiona-la"/><br/>
								<span class="conteudoValidationMessage"><h:message for="foto"/></span>
							</h:outputLabel>
						</td>
					</tr>
				</table>
				<div style="margin-top:3%;">
					<h:commandButton value="Cadastrar" action="#{cadastrarLivroMB.cadastrarLivro}" style="margin-right:2%;" class="conteudoBotaoForm"/>
					<h:commandButton value="Cancelar" h5:type="reset" class="conteudoBotaoForm"/>
				</div>
			</h:form>
		</div>
	</ui:define>
</ui:composition>