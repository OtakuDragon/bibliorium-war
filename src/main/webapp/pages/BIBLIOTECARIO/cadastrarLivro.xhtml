<ui:composition template="/WEB-INF/templates/templateBase.xhtml"
				xmlns="http://www.w3.org/1999/xhtml"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:p="http://primefaces.org/ui"
				xmlns:h5="http://xmlns.jcp.org/jsf/passthrough">
				
	<ui:define name="MenuVertical">
		<ui:include src ="/WEB-INF/templates/menuBibliotecario.xhtml"/>
	</ui:define>
	<ui:define name="Conteudo">
		<div class="titulo-conteudo-div">
			<span class="titulo-conteudo-text">Cadastrar Livro</span>
		</div>
		<h:form styleClass="form-conteudo" enctype="multipart/form-data">
		<div class="form-conteudo wrapper">
			<div class="row">
				<div class="element">
					<h:outputLabel styleClass="label width-20" value="Título: " title="Título do livro" for="titulo"/>
					<h:inputText id="titulo"
								 styleClass="input-text width-77"
								 value="#{cadastrarLivroMB.dataFormatter.titulo}"
								 required="true"
								 requiredMessage="O título do livro é obrigatorio."
								 validatorMessage="Titulo inválido (Min. 5 Letras)."
								 maxlength="255" >
						<f:validateRegex pattern="(^\D{1}[\w|\s]{4,255})" />
					</h:inputText><br/>
					<span class="validation-message">
						<h:message for="titulo"/>
					</span>
				</div>
				<div class="element">
					<h:outputLabel styleClass="label width-62" value="Edição: " title="Edição do livro" for="edicao"/>
					<h:inputText id="edicao"
								 styleClass="input-text width-35"
								 value="#{cadastrarLivroMB.dataFormatter.edicao}"
								 required="true"
								 requiredMessage="A edição do livro é obrigatoria."
								 maxlength="10" />
					<span class="validation-message">
						<h:message for="edicao"/>
					</span>
				</div>
			</div>
			<div class="row">
				<div class="element">
					<h:outputLabel styleClass="label width-20" value="Editora: " title="Editora do livro" for="editora" />
					<h:inputText id="editora"
								 styleClass="input-text width-77"
								 value="#{cadastrarLivroMB.dataFormatter.editora}" required="true"
								 requiredMessage="A editora do livro é obrigatoria."
								 validatorMessage="Editora Inválida (Min. 3 Letras)."
								 maxlength="255">
						<f:validateRegex pattern="(^\D{1}[\w|\s]{2,255})" />
					</h:inputText><br/>
					<span class="validation-message">
						<h:message for="editora"/>
					</span>
				</div>
				<div class="element">
					<h:outputLabel styleClass="label width-77" value="Num. Páginas: " title="Numero de páginas do livro" for="paginas"/>
					<h:inputText id="paginas"
								 styleClass="input-text width-20"
								 value="#{cadastrarLivroMB.dataFormatter.numPaginas}"
								 required="true"
								 requiredMessage="O numero de páginas do livro é obrigatório."
								 validatorMessage="Número de páginas inválido, deve ser positivo."
								 maxlength="5" >
						<f:validateRegex pattern="^[1-9]\d{0,6}" />
					</h:inputText><br/>
					<span class="validation-message">
						<h:message for="paginas"/>
					</span>
				</div>
			</div>
			<div class="row">
				<div class="element">
					<h:outputLabel styleClass="label width-20" value="Autores: " title="Nome dos Autores do livro, separados por virgula" for="autores"/>
					<h:inputText id="autores"
								 styleClass="input-text width-77"
								 value="#{cadastrarLivroMB.dataFormatter.autores}"
								 required="true"
								 requiredMessage="Pelo menos um autor deve ser definido."
								 validatorMessage="Autores inválidos (Min. 3 Letras)."
								 maxlength="255" >
						<f:validateRegex pattern="(^\D{1}[\w|\s]{2,255})" />
					</h:inputText><br/>
					<span class="validation-message">
						<h:message for="autores"/>
					</span>
				</div>
				<div class="element">
					<h:outputLabel styleClass="label width-77" value="Quantidade: " title="Quantidade de livros sendo cadastrada" for="qtd" />
						<h:inputText id="qtd"
									 h5:type="number"
									 styleClass="input-text width-20"
									 value="#{cadastrarLivroMB.dataFormatter.quantidade}"
									 required="true"
									 requiredMessage="A quantidade de livros é obrigatoria."
									 validatorMessage="Quantidade inválida, deve ser positiva."
									 maxlength="2" >
							<f:validateRegex pattern="^[1-9]\d{0,3}" />
						</h:inputText><br/>
						<span class="validation-message">
							<h:message for="qtd"/>
						</span>
				</div>
			</div>
			<div class="row">
				<div class="element">
					<h:outputLabel styleClass="label width-20" value="ISBN: " for="isbn"/>
					<h:inputText id="isbn"
								 title="ISBN do livro"
								 styleClass="input-text width-77"
								 value="#{cadastrarLivroMB.dataFormatter.isbn}"
								 required="true"
								 requiredMessage="O ISBN do livro é obrigatorio."
								 validatorMessage="O código ISBN deve ser um número de 10 ou 13 Digítos"
								 maxlength="13">
						<f:validateRegex pattern="(\d{10}|\d{13})"></f:validateRegex>
					</h:inputText><br/>
					<span class="validation-message">
						<h:message for="isbn"/>
					</span>
				</div>
				<div class="element">
					<h:outputLabel styleClass="label width-30" value="Categoria: " for="categoria" />
					<h:selectOneMenu id="categoria"
									 styleClass="select"
									 title="Categoria do livro"
									 value="#{cadastrarLivroMB.dataFormatter.categoria}"
									 required="true" 
									 requiredMessage="A categoria do livro é obrigatoria." >
						<f:selectItem itemLabel="Selecione.." itemValue="#{null}" />
						<f:selectItems var="opcao" itemLabel="#{opcao.nome}" itemValue="#{opcao.idCategoria}" value="#{cadastrarLivroMB.categorias}"/>
					</h:selectOneMenu><br/>
					<span class="validation-message">
						<h:message for="categoria"/>
					</span>
				</div>
			</div>
			<div class="row" align="center">
				<div style="margin-top:3%;">
						<h:commandButton value="Cadastrar" action="#{cadastrarLivroMB.cadastrarLivro}" style="margin-right:2%;" class="botao"/>
						<h:commandButton value="Cancelar" h5:type="reset" class="botao"/>
				</div>
			</div>
		</div>
		</h:form>
	</ui:define>
</ui:composition>