<ui:composition template="/WEB-INF/templates/templateBase.xhtml"
				xmlns="http://www.w3.org/1999/xhtml"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:p="http://primefaces.org/ui"
				xmlns:h5="http://xmlns.jcp.org/jsf/passthrough"
				xmlns:c="http://java.sun.com/jsp/jstl/core">

	<ui:define name="Conteudo">
		<div class="titulo-conteudo-div">
			<span class="titulo-conteudo-text">Gerenciar Empréstimo</span>
		</div>
		<h:form id="consultarLeitorForm" styleClass="form-conteudo" enctype="multipart/form-data">
		<div class="form-conteudo wrapper">
			<div class="row">
				<div class="element" style="width:100%;" align="center">
					<h:outputLabel styleClass="label align-left" value="Cod. Cópia: " for="buscaCopia" style="width:13%;margin-right:1%;"/>
					<h:inputText id="buscaCopia"
								 style="width:65%;"
								 styleClass="input-text width-77 align-left"
								 value="#{gerenciarEmprestimoMB.codCopia}"
								 required="true"
								 tabindex="1" />
					<p:commandButton class="botao" value="Buscar" action="#{gerenciarEmprestimoMB.buscarCopia}" update="@form" />
				</div>
			</div>
			<h:panelGroup rendered="#{not empty gerenciarEmprestimoMB.codCopia}">
				<div class="leitura">
					<div class="header">
						<span class="title label" style="width:8% !important">Cópia</span>
					</div>
					<c:choose>
						<c:when test="#{not empty gerenciarEmprestimoMB.copia}">
							<div class="row">
								<div class="element" align="center" style="width:100% !important;">
									<h:outputLabel styleClass="label" value="Titúlo: " for="titulo" style="width:12% !important"/>
									<h:outputText id="titulo" styleClass="text" value="#{gerenciarEmprestimoMB.copia.livro.titulo}" />
								</div>
							</div>
							<div class="row">
								<div class="element" align="center">
									<h:outputLabel styleClass="label" value="Livro: " title="Código do livro" for="livro"/>
									<h:outputText id="livro" styleClass="text" value="#{gerenciarEmprestimoMB.copia.livro.id}" />
								</div>
								<div class="element">
									<h:outputLabel styleClass="label" value="Cópia: " title="Código da cópia" for="copia" />
									<h:outputText id="copia" styleClass="text" value="#{gerenciarEmprestimoMB.copia.id}" />
								</div>
							</div>
							<div class="row">
								<div class="element">
									<h:outputLabel styleClass="label" value="Edição: " title="Edição" for="edicao"/>
									<h:outputText id="edicao" styleClass="text" value="#{gerenciarEmprestimoMB.copia.livro.edicao}" />
								</div>
								<div class="element">
									<h:outputLabel styleClass="label" value="ISBN: " title="ISBN" for="isbn"/>
									<h:outputText id="isbn" styleClass="text" value="#{gerenciarEmprestimoMB.copia.livro.isbn}" />
								</div>
							</div>
							<div class="row">
								<div class="element">
									<h:outputLabel styleClass="label" value="Autores: " title="Autores do livro" for="autores"/>
									<h:outputText id="autores" styleClass="text" value="#{gerenciarEmprestimoMB.copia.livro.autores}"/>
								</div>
								<div class="element">
									<h:outputLabel styleClass="label" value="Estado: " title="Estado da cópia" for="estado"/>
									<h:outputText id="estado" styleClass="text" value="#{gerenciarEmprestimoMB.copia.estado}"/>
								</div>
							</div>
						</c:when>
						<c:otherwise>
							<h:outputText class="label" value="Nenhum resultado." style="float:none !important;" />
						</c:otherwise>
					</c:choose>
				</div>
			</h:panelGroup>
			<h:panelGroup rendered="#{not empty consultarLeitorMB.leitor}">
				<div class="row" align="center">
					<div style="margin-top:3%;">
						<p:commandButton value="Histórico" action="/pages/ALL/historico" style="margin-right:1%;" class="botao" tabindex="10" ajax="false">
							<f:setPropertyActionListener value="#{consultarLeitorMB.leitor}" target="#{sessionScope['leitor']}" />
						</p:commandButton>
						<p:commandButton value="Alterar" action="/pages/BIBLIOTECARIO/editarLeitor" style="margin-right:1%;" class="botao" tabindex="10" ajax="false">
							<f:setPropertyActionListener value="#{consultarLeitorMB.leitor}" target="#{sessionScope['leitor']}" />
						</p:commandButton>
						<p:commandButton value="Bloquear/Ativar" action="#{consultarLeitorMB.toggleAcesso}" style="margin-right:1%;" class="botao" tabindex="10" ajax="false"/>
						<p:commandButton value="Resetar Senha" action="#{consultarLeitorMB.resetarSenha}" style="margin-right:1%;" class="botao" tabindex="10" ajax="false"/>
						<p:commandButton value="Cancelar" class="botao" tabindex="11" action="#{consultarLeitorMB.reset}" update="@form" />
					</div>
				</div>
			</h:panelGroup>
		</div>
		</h:form>
	</ui:define>
</ui:composition>